"use strict";(self.webpackChunkroutes=self.webpackChunkroutes||[]).push([[923],{4249:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var t=r(2600),u=r(2791),a=r(9540),o=r(1290),l=r(77);r(4947);var c=["id","name","value","onFileSelect","onChange","onDialogOpen","onDialogClose","onTabChange","apiRef","customTabs","validators","tabsCss","locale","localeTranslations","localePluralize","previewUrlCallback"];var i=function(e,n){var r=e.id,a=e.name,i=e.value,f=e.onFileSelect,s=e.onChange,d=e.onDialogOpen,C=e.onDialogClose,A=e.onTabChange,p=e.apiRef,L=e.customTabs,v=e.validators,E=e.tabsCss,g=e.locale,O=e.localeTranslations,R=e.localePluralize,w=e.previewUrlCallback,b=(0,t.a)(e,c),h=(0,u.useRef)(null),m=(0,u.useRef)(null),D=(0,u.useRef)(null),U=(0,o.u)(f),_=(0,o.u)(s),P=(0,o.u)(d),T=(0,o.u)(C),I=(0,o.u)(A);(0,o.a)(L,n);var S=function(e,n){var r=!0,t=(0,u.useRef)();t.current?r=!!(n&&t.current.deps&&l(n,t.current.deps)):t.current={deps:n,result:e()};var a=r?t.current:{deps:n,result:e()};return t.current=a,a.result}((function(){return e=b,Object.entries(e).reduce((function(e,n){var r=(0,t.b)(n,2),u=r[0],a=r[1];return(0,t.c)((0,t.c)({},e),{},(0,t.d)({},"data-".concat(u.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()),a))}),{});var e}),[b]);return(0,o.b)((function(){return g&&(window.UPLOADCARE_LOCALE=g),R&&(window.UPLOADCARE_LOCALE_PLURALIZE=R),O&&(window.UPLOADCARE_LOCALE_TRANSLATIONS=O),w&&(window.UPLOADCARE_PREVIEW_URL_CALLBACK=w),n.plugin((function(e){e.locale.rebuild({locale:g||null,localeTranslations:O||null,localePluralize:R||null})})),function(){g&&delete window.UPLOADCARE_LOCALE,R&&delete window.UPLOADCARE_LOCALE_PLURALIZE,O&&delete window.UPLOADCARE_LOCALE_TRANSLATIONS,w&&delete window.UPLOADCARE_PREVIEW_URL_CALLBACK}}),[g,O,R,w]),(0,u.useEffect)((function(){var e=h.current;m.current=n.Widget(e);var r=e.nextSibling;return D.current&&m.current.value(D.current),function(){n.jQuery(e).removeData("uploadcareWidget"),r&&r.remove()}}),[n,S]),function(e,n){(0,u.useEffect)((function(){if(null!=n){var r=e.current;return n.forEach((function(e){r.validators.push(e)})),function(){r.validators.length=0}}}),[e,n])}(m,v),(0,u.useEffect)((function(){return m.current.onUploadComplete.add(_),m.current.onChange.add(U),function(){m.current.onUploadComplete.remove(_),m.current.onChange.remove(U)}}),[_,U,n,S]),(0,u.useEffect)((function(){var e,n=function(n){(e=n).done(T).fail(T).progress(I),P(n)};return m.current.onDialogOpen.add(n),function(){m.current.onDialogOpen.remove(n),e&&e.reject()}}),[S,T,P,I]),(0,u.useEffect)((function(){var e=[],n=function(n){e=n?n.files?n.files():[n]:[]};return m.current.onChange.add(n),function(){e.forEach((function(e){return e.cancel()})),m.current.onChange.remove(n)}}),[S]),(0,u.useEffect)((function(){D.current!==i&&m.current.value(i),D.current=i}),[i]),(0,u.useEffect)((function(){n&&E&&"string"===typeof E&&(0===E.indexOf("https://")?n.tabsCss.addUrl(E):n.tabsCss.addStyle(E))}),[n,E]),(0,u.useImperativeHandle)(p,(function(){return{openDialog:function(){return m.current.openDialog()},reloadInfo:function(){return m.current.reloadInfo()},getInput:function(){return m.current.inputElement}}}),[]),(0,u.useCallback)((function(){return u.createElement("input",(0,t._)({type:"hidden",ref:h,id:r,name:a},S))}),[S,r,a])},f=function(e){var n=i(e,a);return u.createElement(n,null)}}}]);
//# sourceMappingURL=ucare-widget-chunk.f5e2b0bd.chunk.js.map